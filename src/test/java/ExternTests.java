import net.thewalkingthread.brainfuck.BrainfuckProgram;
import org.junit.Assert;
import org.junit.Test;

public class ExternTests {
    @Test
    public void testASCII() throws Exception {
        String input = "++++++++[>++++++<-]>.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+" +
                ".+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.+.[-]++++++++++.";
        BrainfuckProgram program = new BrainfuckProgram(input);
        String out = program.run();

        Assert.assertTrue(out.equals("0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz\n"));
    }

    @Test
    public void testBottles1() throws Exception {
        String input = ">+++++++++[<+++++++++++>-]<[>[-]>[-]<<[>+>+<<-]>>[<<+>>-]>>>" +
                "[-]<<<+++++++++<[>>>+<<[>+>[-]<<-]>[<+>-]>[<<++++++++++>>>+<" +
                "-]<<-<-]+++++++++>[<->-]>>+>[<[-]<<+>>>-]>[-]+<<[>+>-<<-]<<<" +
                "[>>+>+<<<-]>>>[<<<+>>>-]>[<+>-]<<-[>[-]<[-]]>>+<[>[-]<-]<+++" +
                "+++++[<++++++<++++++>>-]>>>[>+>+<<-]>>[<<+>>-]<[<<<<<.>>>>>-" +
                "]<<<<<<.>>[-]>[-]++++[<++++++++>-]<.>++++[<++++++++>-]<++.>+" +
                "++++[<+++++++++>-]<.><+++++..--------.-------.>>[>>+>+<<<-]>" +
                ">>[<<<+>>>-]<[<<<<++++++++++++++.>>>>-]<<<<[-]>++++[<+++++++" +
                "+>-]<.>+++++++++[<+++++++++>-]<--.---------.>+++++++[<------" +
                "---->-]<.>++++++[<+++++++++++>-]<.+++..+++++++++++++.>++++++" +
                "++[<---------->-]<--.>+++++++++[<+++++++++>-]<--.-.>++++++++" +
                "[<---------->-]<++.>++++++++[<++++++++++>-]<++++.-----------" +
                "-.---.>+++++++[<---------->-]<+.>++++++++[<+++++++++++>-]<-." +
                ">++[<----------->-]<.+++++++++++..>+++++++++[<---------->-]<" +
                "-----.---.>>>[>+>+<<-]>>[<<+>>-]<[<<<<<.>>>>>-]<<<<<<.>>>+++" +
                "+[<++++++>-]<--.>++++[<++++++++>-]<++.>+++++[<+++++++++>-]<." +
                "><+++++..--------.-------.>>[>>+>+<<<-]>>>[<<<+>>>-]<[<<<<++" +
                "++++++++++++.>>>>-]<<<<[-]>++++[<++++++++>-]<.>+++++++++[<++" +
                "+++++++>-]<--.---------.>+++++++[<---------->-]<.>++++++[<++" +
                "+++++++++>-]<.+++..+++++++++++++.>++++++++++[<---------->-]<" +
                "-.---.>+++++++[<++++++++++>-]<++++.+++++++++++++.++++++++++." +
                "------.>+++++++[<---------->-]<+.>++++++++[<++++++++++>-]<-." +
                "-.---------.>+++++++[<---------->-]<+.>+++++++[<++++++++++>-" +
                "]<--.+++++++++++.++++++++.---------.>++++++++[<---------->-]" +
                "<++.>+++++[<+++++++++++++>-]<.+++++++++++++.----------.>++++" +
                "+++[<---------->-]<++.>++++++++[<++++++++++>-]<.>+++[<----->" +
                "-]<.>+++[<++++++>-]<..>+++++++++[<--------->-]<--.>+++++++[<" +
                "++++++++++>-]<+++.+++++++++++.>++++++++[<----------->-]<++++" +
                ".>+++++[<+++++++++++++>-]<.>+++[<++++++>-]<-.---.++++++.----" +
                "---.----------.>++++++++[<----------->-]<+.---.[-]<<<->[-]>[" +
                "-]<<[>+>+<<-]>>[<<+>>-]>>>[-]<<<+++++++++<[>>>+<<[>+>[-]<<-]" +
                ">[<+>-]>[<<++++++++++>>>+<-]<<-<-]+++++++++>[<->-]>>+>[<[-]<" +
                "<+>>>-]>[-]+<<[>+>-<<-]<<<[>>+>+<<<-]>>>[<<<+>>>-]<>>[<+>-]<" +
                "<-[>[-]<[-]]>>+<[>[-]<-]<++++++++[<++++++<++++++>>-]>>>[>+>+" +
                "<<-]>>[<<+>>-]<[<<<<<.>>>>>-]<<<<<<.>>[-]>[-]++++[<++++++++>" +
                "-]<.>++++[<++++++++>-]<++.>+++++[<+++++++++>-]<.><+++++..---" +
                "-----.-------.>>[>>+>+<<<-]>>>[<<<+>>>-]<[<<<<++++++++++++++" +
                ".>>>>-]<<<<[-]>++++[<++++++++>-]<.>+++++++++[<+++++++++>-]<-" +
                "-.---------.>+++++++[<---------->-]<.>++++++[<+++++++++++>-]" +
                "<.+++..+++++++++++++.>++++++++[<---------->-]<--.>+++++++++[" +
                "<+++++++++>-]<--.-.>++++++++[<---------->-]<++.>++++++++[<++" +
                "++++++++>-]<++++.------------.---.>+++++++[<---------->-]<+." +
                ">++++++++[<+++++++++++>-]<-.>++[<----------->-]<.+++++++++++" +
                "..>+++++++++[<---------->-]<-----.---.+++.---.[-]<<<]";
        BrainfuckProgram program = new BrainfuckProgram(input);
        String out1 = program.run();

        String out2 = "";
        for (int i = 99; i != 0; i--){
            if (i <= 1){
                out2 += i + " Bottle of beer on the wall\r\n";
                out2 += i + " Bottle of beer\r\n";
            } else {
                out2 += i + " Bottles of beer on the wall\r\n";
                out2 += i + " Bottles of beer\r\n";
            }
            out2 += "Take one down and pass it around\r\n";
            if ((i-1) <= 1)
                out2 += (i-1) + " Bottle of beer on the wall\r\n";
            else
                out2 += (i-1) + " Bottles of beer on the wall\r\n";
            out2 += "\r\n";
        }

        Assert.assertTrue(out1.equals(out2));
    }

    @Test
    public void testBottles2() throws Exception {
        String input = ">++++++++++[<++++++++++>-]<->>>>>+++[>+++>+++<<-]<<<<+<[>[>+" +
                ">+<<-]>>[-<<+>>]++++>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<[[-]>>" +
                ">>>>[[-]<++++++++++<->>]<-[>+>+<<-]>[<+>-]+>[[-]<->]<<<<<<<<" +
                "<->>]<[>+>+<<-]>>[-<<+>>]+>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<" +
                "<[>>+>+<<<-]>>>[-<<<+>>>]++>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<" +
                "<[>+<[-]]<[>>+<<[-]]>>[<<+>>[-]]<<<[>>+>+<<<-]>>>[-<<<+>>>]+" +
                "+++>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<[>+<[-]]<[>>+<<[-]]>>[<" +
                "<+>>[-]]<<[[-]>>>++++++++[>>++++++<<-]>[<++++++++[>++++++<-]" +
                ">.<++++++++[>------<-]>[<<+>>-]]>.<<++++++++[>>------<<-]<[-" +
                ">>+<<]<++++++++[<++++>-]<.>+++++++[>+++++++++<-]>+++.<+++++[" +
                ">+++++++++<-]>.+++++..--------.-------.++++++++++++++>>[>>>+" +
                ">+<<<<-]>>>>[-<<<<+>>>>]>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<<<" +
                "[>>>+>+<<<<-]>>>>[-<<<<+>>>>]+>+<[-<->]<[[-]>>-<<]>>[[-]<<+>" +
                ">]<<<[>>+<<[-]]>[>+<[-]]++>>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<" +
                "+<[[-]>-<]>[<<<<<<<.>>>>>>>[-]]<<<<<<<<<.>>----.---------.<<" +
                ".>>----.+++..+++++++++++++.[-]<<[-]]<[>+>+<<-]>>[-<<+>>]+>+<" +
                "[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<<[>>+>+<<<-]>>>[-<<<+>>>]++++" +
                ">+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<[>+<[-]]<[>>+<<[-]]>>[<<+>" +
                ">[-]]<<[[-]>++++++++[<++++>-]<.>++++++++++[>+++++++++++<-]>+" +
                ".-.<<.>>++++++.------------.---.<<.>++++++[>+++<-]>.<++++++[" +
                ">----<-]>++.+++++++++++..[-]<<[-]++++++++++.[-]]<[>+>+<<-]>>" +
                "[-<<+>>]+++>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<[[-]++++++++++." +
                ">+++++++++[>+++++++++<-]>+++.+++++++++++++.++++++++++.------" +
                ".<++++++++[>>++++<<-]>>.<++++++++++.-.---------.>.<-.+++++++" +
                "++++.++++++++.---------.>.<-------------.+++++++++++++.-----" +
                "-----.>.<++++++++++++.---------------.<+++[>++++++<-]>..>.<-" +
                "---------.+++++++++++.>.<<+++[>------<-]>-.+++++++++++++++++" +
                ".---.++++++.-------.----------.[-]>[-]<<<.[-]]<[>+>+<<-]>>[-" +
                "<<+>>]++++>+<[-<->]<[[-]>>-<<]>>[[-]<<+>>]<<[[-]++++++++++.[" +
                "-]<[-]>]<+<]";
        BrainfuckProgram program = new BrainfuckProgram(input);
        String out1 = program.run();

        String out2 = "";
        for (int i = 98; i != -1; i--){
            if (i <= 1){
                out2 += i + " Bottle of beer on the wall\n\n";
                //out2 += i + " Bottle of beer\r\n";
            } else {
                out2 += i + " Bottles of beer on the wall\n\n";
                //out2 += i + " Bottles of beer\r\n";
            }
            out2 += "Take one down and pass it around\n\n";
        }

        Assert.assertTrue(out1.equals(out2));
    }
}
